function gestionarXml(e){var t=e.responseXML,n=t.getElementsByTagName("title")[0].innerHTML,o=[],a=t.getElementById("jklm_001").getElementsByTagName("option").length;for(i=0;i<a;i++)o[i]=t.getElementById("jklm_001").getElementsByTagName("option")[i].innerHTML;ponerDatosRadioHtml(n,o),respuestaRadio=t.getElementsByTagName("answer")[0].innerHTML;var r=t.getElementsByTagName("title")[1].innerHTML,l=[],s=t.getElementById("jklm_002").getElementsByTagName("option").length;for(i=0;i<s;i++)l[i]=t.getElementById("jklm_002").getElementsByTagName("option")[i].innerHTML;ponerDatosRadio2Html(r,l),respuestaRadio2=t.getElementsByTagName("answer")[1].innerHTML;var m=t.getElementsByTagName("title")[2].innerHTML;ponerDatosText1Html(m),respuestaText1=t.getElementsByTagName("answer")[2].innerHTML.toLowerCase();var c=t.getElementsByTagName("title")[3].innerHTML;ponerDatosText2Html(c),respuestaText2=t.getElementsByTagName("answer")[3].innerHTML.toLowerCase();var p=t.getElementsByTagName("title")[4].innerHTML,u=[],d=t.getElementById("jklm_005").getElementsByTagName("option").length;for(i=0;i<d;i++)u[i]=t.getElementById("jklm_005").getElementsByTagName("option")[i].innerHTML;ponerDatosCheckBox1Html(p,u);var g=t.getElementById("jklm_005").getElementsByTagName("answer").length;for(i=0;i<g;i++)respuestasCheckbox1[i]=t.getElementById("jklm_005").getElementsByTagName("answer")[i].innerHTML;var E=t.getElementsByTagName("title")[5].innerHTML,y=[],h=t.getElementById("jklm_006").getElementsByTagName("option").length;for(i=0;i<h;i++)y[i]=t.getElementById("jklm_006").getElementsByTagName("option")[i].innerHTML;ponerDatosCheckBox2Html(E,y);var f=t.getElementById("jklm_006").getElementsByTagName("answer").length;for(i=0;i<f;i++)respuestasCheckbox2[i]=t.getElementById("jklm_006").getElementsByTagName("answer")[i].innerHTML;var T=t.getElementsByTagName("title")[6].innerHTML,B=[],H=t.getElementById("jklm_007").getElementsByTagName("option").length;for(i=0;i<H;i++)B[i]=t.getElementById("jklm_007").getElementsByTagName("option")[i].innerHTML;ponerDatosSelectHtml(T,B),respuestaSelect=parseInt(t.getElementsByTagName("answer")[8].innerHTML);var v=t.getElementsByTagName("title")[7].innerHTML,C=[],k=t.getElementById("jklm_008").getElementsByTagName("option").length;for(i=0;i<k;i++)C[i]=t.getElementById("jklm_008").getElementsByTagName("option")[i].innerHTML;ponerDatosSelec2tHtml(v,C),respuestaSelect2=parseInt(t.getElementsByTagName("answer")[9].innerHTML);var M=t.getElementsByTagName("title")[8].innerHTML,I=[],x=t.getElementById("jklm_009").getElementsByTagName("option").length;for(i=0;i<x;i++)I[i]=t.getElementById("jklm_009").getElementsByTagName("option")[i].innerHTML;ponerDatosMultiple1tHtml(M,I);var L=t.getElementById("jklm_009").getElementsByTagName("answer").length;for(i=0;i<L;i++)respuestasMultiple1[i]=t.getElementById("jklm_009").getElementsByTagName("answer")[i].innerHTML;var N=t.getElementsByTagName("title")[9].innerHTML,b=[];t.getElementById("jklm_010").getElementsByTagName("option").length;for(i=0;i<x;i++)b[i]=t.getElementById("jklm_010").getElementsByTagName("option")[i].innerHTML;ponerDatosMultiple2tHtml(N,b);var R=t.getElementById("jklm_010").getElementsByTagName("answer").length;for(i=0;i<R;i++)respuestasMultiple2[i]=t.getElementById("jklm_010").getElementsByTagName("answer")[i].innerHTML}function ponerDatosRadioHtml(e,t){var n=document.getElementById("radioContainer1"),o=document.createElement("h3");for(o.innerHTML=e,n.appendChild(o),i=0;i<t.length;i++){var a=document.createElement("input"),r=document.createElement("label");r.innerHTML=t[i],r.setAttribute("for","opcion1_"+i),a.id="opcion1_"+i,a.type="radio",a.name="opcion1",a.value=i,a.setAttribute("onclick","uncheckRadio(this)"),n.appendChild(a),n.appendChild(r),n.appendChild(document.createElement("br"))}}function ponerDatosRadio2Html(e,t){var n=document.getElementById("radioContainer2"),o=document.createElement("h3");for(o.innerHTML=e,n.appendChild(o),i=0;i<t.length;i++){var a=document.createElement("input"),r=document.createElement("label");r.innerHTML=t[i],r.setAttribute("for","opcion2_"+i),a.id="opcion2_"+i,a.type="radio",a.name="opcion2",a.value=i,a.setAttribute("onclick","uncheckRadio(this)"),n.appendChild(a),n.appendChild(r),n.appendChild(document.createElement("br"))}}function ponerDatosText1Html(e){var t=document.getElementById("textContainer1"),n=document.createElement("h3");n.innerHTML=e,t.appendChild(n);var o=document.createElement("input");o.type="text",o.name="opcion3",t.appendChild(o)}function ponerDatosText2Html(e){var t=document.getElementById("textContainer2"),n=document.createElement("h3");n.innerHTML=e,t.appendChild(n);var o=document.createElement("input");o.type="text",o.name="opcion4",t.appendChild(o)}function ponerDatosCheckBox1Html(e,t){var n=document.getElementById("checkboxContainer1"),o=document.createElement("h3");for(o.innerHTML=e,n.appendChild(o),i=0;i<t.length;i++){var a=document.createElement("input"),r=document.createElement("label");r.innerHTML=t[i],r.setAttribute("for","opcion5_"+i),a.type="checkbox",a.name="opcion5",a.id="opcion5_"+i,n.appendChild(a),n.appendChild(r),n.appendChild(document.createElement("br"))}}function ponerDatosCheckBox2Html(e,t){var n=document.getElementById("checkboxContainer2"),o=document.createElement("h3");for(o.innerHTML=e,n.appendChild(o),i=0;i<t.length;i++){var a=document.createElement("input"),r=document.createElement("label");r.innerHTML=t[i],r.setAttribute("for","opcion6_"+i),a.type="checkbox",a.name="opcion6",a.id="opcion6_"+i,n.appendChild(a),n.appendChild(r),n.appendChild(document.createElement("br"))}}function ponerDatosSelectHtml(e,t){document.getElementById("tituloSelect").innerHTML=e;var n=document.getElementsByTagName("select")[0];for(i=0;i<t.length;i++){var o=document.createElement("option");o.text=t[i],o.value=i,n.options.add(o)}}function ponerDatosSelec2tHtml(e,t){document.getElementById("tituloSelect2").innerHTML=e;var n=document.getElementsByTagName("select")[1];for(i=0;i<t.length;i++){var o=document.createElement("option");o.text=t[i],o.value=i,n.options.add(o)}}function ponerDatosMultiple1tHtml(e,t){document.getElementById("titulomultiple1").innerHTML=e;var n=document.getElementsByTagName("select")[2];for(i=0;i<t.length;i++){var o=document.createElement("option");o.text=t[i],o.setAttribute("id","opcion_"+i),o.name="opcion9",n.options.add(o)}}function ponerDatosMultiple2tHtml(e,t){document.getElementById("titulomultiple2").innerHTML=e;var n=document.getElementsByTagName("select")[3];for(i=0;i<t.length;i++){var o=document.createElement("option");o.text=t[i],o.setAttribute("id","opcion_"+i),o.name="opcion10",n.options.add(o)}}function corregirRadio(){var e=formElement.elements.opcion1.value;e==respuestaRadio?(darRespuestaHtml("P1: Correcto"),nota+=1):(darRespuestaHtml("P1: Incorrecto"),nota-=1)}function corregirRadio2(){var e=formElement.elements.opcion2.value;e==respuestaRadio2?(darRespuestaHtml("P2: Correcto"),nota+=1):(darRespuestaHtml("P2: Incorrecto"),nota-=1)}function corregirText1(){var e=formElement.elements.opcion3.value.toLowerCase();e==respuestaText1?(darRespuestaHtml("P3: Correcto"),nota+=1):(darRespuestaHtml("P3: Incorrecto"),nota-=1)}function corregirText2(){var e=formElement.elements.opcion4.value.toLowerCase();e==respuestaText2?(darRespuestaHtml("P4: Correcto"),nota+=1):(darRespuestaHtml("P4: Incorrecto"),nota-=1)}function corregirCheckBox(){var e=formElement,t=[];for(i=0;i<e.opcion5.length;i++)if(e.opcion5[i].checked){for(t[i]=!1,j=0;j<respuestasCheckbox1.length;j++)i==respuestasCheckbox1[j]&&(t[i]=!0);t[i]?(nota+=1/respuestasCheckbox1.length,darRespuestaHtml("P5."+i+":  Correcta")):(nota-=1/respuestasCheckbox1.length,darRespuestaHtml("P5."+i+":  Incorrecta"))}}function corregirCheckBox2(){var e=formElement,t=[];for(i=0;i<e.opcion6.length;i++)if(e.opcion6[i].checked){for(t[i]=!1,j=0;j<respuestasCheckbox2.length;j++)i==respuestasCheckbox2[j]&&(t[i]=!0);t[i]?(nota+=1/respuestasCheckbox2.length,darRespuestaHtml("P6."+i+":  Correcta")):(nota-=1/respuestasCheckbox2.length,darRespuestaHtml("P6."+i+":  Incorrecta"))}}function corregirSelect1(){var e=parseInt(formElement.elements.opcion7.value);e==respuestaSelect?(darRespuestaHtml("P7: Correcto"),nota+=1):(darRespuestaHtml("P7: Incorrecto"),nota-=1)}function corregirSelect2(){var e=parseInt(formElement.elements.opcion8.value);e==respuestaSelect2?(darRespuestaHtml("P8: Correcto"),nota+=1):(darRespuestaHtml("P8: Incorrecto"),nota-=1)}function corregirMultiple1(){var e=formElement,t=[];for(i=0;i<e.opcion9.length;i++)if(e.opcion9[i].selected){for(t[i]=!1,j=0;j<respuestasMultiple1.length;j++)i==respuestasMultiple1[j]&&(t[i]=!0);t[i]?(nota+=1/respuestasMultiple1.length,darRespuestaHtml("P9."+i+":  Correcta")):(nota-=1/respuestasMultiple1.length,darRespuestaHtml("P9."+i+":  Incorrecta"))}}function corregirMultiple2(){var e=formElement,t=[];for(i=0;i<e.opcion10.length;i++)if(e.opcion10[i].selected){for(t[i]=!1,j=0;j<respuestasMultiple2.length;j++)i==respuestasMultiple2[j]&&(t[i]=!0);t[i]?(nota+=1/respuestasMultiple2.length,darRespuestaHtml("P10."+i+":  Correcta")):(nota-=1/respuestasMultiple2.length,darRespuestaHtml("P10."+i+":  Incorrecta"))}}function darRespuestaHtml(e){var t=document.createElement("p"),n=document.createTextNode(e);t.appendChild(n),document.getElementById("resultado").appendChild(t)}function presentarNota(){darRespuestaHtml("Nota: "+nota.toFixed(2)+" puntos sobre 10.00"),document.getElementById("resultadosDiv").style.display="block",window.scrollTo(0,0)}function inicializar(){document.getElementById("resultado").innerHTML="",nota=0}function uncheckRadio(e){previo&&previo!=e&&(previo.era=!1),1==e.checked&&1==e.era&&(e.checked=!1),e.era=e.checked,previo=e}function comprobar(){var e=formElement,t=!1;for(i=0;i<e.opcion1.length;i++)e.opcion1[i].checked&&(t=!0);if(!t)return alert("¡Contesta la pregunta 1!"),e.elements.opcion1[0].focus(),!1;for(t=!1,i=0;i<e.opcion2.length;i++)e.opcion2[i].checked&&(t=!0);if(!t)return alert("¡Contesta la pregunta 2!"),e.elements.opcion2[0].focus(),!1;if(t=!1,""==e.elements.opcion3.value)return alert("¡Contesta la pregunta 3!"),e.elements.opcion3.focus(),!1;if(""==e.elements.opcion4.value)return alert("¡Contesta la pregunta 4!"),e.elements.opcion4.focus(),!1;for(i=0;i<e.opcion5.length;i++)e.opcion5[i].checked&&(t=!0);if(!t)return alert("¡Contesta la pregunta 5!"),e.elements.opcion5[0].focus(),!1;for(t=!1,i=0;i<e.opcion6.length;i++)e.opcion6[i].checked&&(t=!0);return t?(t=!1,-1==e.elements.opcion7.value?(alert("¡Contesta la pregunta 7!"),e.elements.opcion7.focus(),!1):-1==e.elements.opcion8.value?(alert("¡Contesta la pregunta 8!"),e.elements.opcion8.focus(),!1):""==e.elements.opcion9.value?(alert("¡Contesta la pregunta 9!"),e.elements.opcion9.focus(),!1):""==e.elements.opcion10.value?(alert("¡Contesta la pregunta 10!"),e.elements.opcion10.focus(),!1):!0):(alert("¡Contesta la pregunta 6!"),e.elements.opcion6[0].focus(),!1)}function test(){confirm("¿Estas seguro que deseas empezar el test? Recomendamos ver las normas.")&&(document.getElementById("menu").style.display="none",document.getElementById("myform").style.display="block",window.scrollTo(0,0))}function volver(){confirm("¿Estas seguro que deseas volver?")&&location.reload()}function normas(){"block"==document.getElementById("info").style.display?(document.getElementById("normas").style.display="block",document.getElementById("info").style.display="none",window.scrollTo(0,0)):(document.getElementById("normas").style.display="none",document.getElementById("info").style.display="block",window.scrollTo(0,0))}var formElement=null,respuestaRadio=null,respuestaRadio2=null,respuestaText1=null,respuestaText2=null,respuestasCheckbox1=[],respuestasCheckbox2=[],respuestaSelect=null,respuestaSelect2=null,respuestasMultiple1=[],respuestasMultiple2=[],nota=0,era,previo=null;window.onload=function(){formElement=document.getElementById("myform"),formElement.onsubmit=function(){return confirm("¿Estas seguro?")&&(inicializar(),comprobar()&&(corregirRadio(),corregirRadio2(),corregirText1(),corregirText2(),corregirCheckBox(),corregirCheckBox2(),corregirSelect1(),corregirSelect2(),corregirMultiple1(),corregirMultiple2(),presentarNota())),!1};var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&gestionarXml(this)},e.open("GET","https://rawgit.com/arsg93/Preguntas/master/xml/preguntas.xml",!0),e.send()};
